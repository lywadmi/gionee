"use strict";$(function(){var t,i=$.cookie("carts")?$.cookie("carts"):"",n=convertStrToObj(i);for(t in n){var a=n[t];$(".carts").append('\n        <ul class="goodInfo" data-good-id="'.concat(t,'">\n            <li>').concat(a.name,"</li>\n            <li>").concat(a.price,'</li>\n            <li class="num">\n                <a href="javascript:;" class="minus">-</a>\n                <input type="text" name="" id="" value="').concat(a.num,'" />\n                <a href="javascript:;" class="plus">+</a>\n            </li>\n            <li class="total">').concat(a.price*a.num,'</li>\n            <li><a href="javascript:;" class="del">删除</a></li>\n        </ul>\n        '))}$(".minus").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),i=$.cookie("carts")?$.cookie("carts"):"",i=convertStrToObj(i);0<i[t].num&&i[t].num--,$.cookie("carts",JSON.stringify(i),{expires:1,path:"/"}),$(this).next().val(i[t].num),$(this).parent().next().text(i[t].price*i[t].num)})}),$(".plus").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),i=$.cookie("carts")?$.cookie("carts"):"",i=convertStrToObj(i);i[t].num++,$.cookie("carts",JSON.stringify(i),{expires:1,path:"/"}),$(this).prev().val(i[t].num),$(this).parent().next().text(i[t].price*i[t].num)})}),$(".num input").each(function(){$(this).blur(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),i=$.cookie("carts")?$.cookie("carts"):"",i=convertStrToObj(i);/^\d+$/.test($(this).val())?i[t].num=$(this).val():i[t].num=0,$.cookie("carts",JSON.stringify(i),{expires:1,path:"/"}),$(this).val(i[t].num),$(this).parent().next().text(i[t].price*i[t].num)})}),$(".del").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),i=$.cookie("carts")?$.cookie("carts"):"",i=convertStrToObj(i);delete i[t],$.cookie("carts",JSON.stringify(i),{expires:1,path:"/"}),$(this).parents(".goodInfo").remove()})})});